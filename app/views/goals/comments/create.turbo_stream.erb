<% comments = @goal.comments %>

<% if comments.count == 1 %>
  <%= turbo_stream.update "comments" do %>
    <%= render partial: "shared/comment", locals: { comments: } %>
  <% end %>
<% else %>
  <%= turbo_stream.prepend "new_comment_card" do %>
    <%= render partial: 'shared/comment_card', locals: {comment: @comment_register.comment} %>
  <% end %>
<% end %>

<%= turbo_stream.update "comment_form" do %>
  <%= render partial: 'shared/comment_form', locals: {commentable: @goal} %>
<% end %>
